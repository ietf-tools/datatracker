{% extends "base.html" %}
{% load ietf_filters %}
{# Copyright The IETF Trust 2009, All Rights Reserved #}

{% block title %} {{ wg.group_acronym.name|escape }} ({{wg}}) Charter  {% endblock %}

{% block content %}
{% ifequal wg.status.status 'Concluded' %}<div class="wgdone"> {%endifequal%}
{% ifequal wg.status.status 'Dormant' %}<div class="wgdormant"> {%endifequal%}
<h1>{{wg.group_acronym.name|escape}} ({{wg}}) {{wg.group_type}}</h1>

<p>Last Modified: {{ wg.last_modified_date }}</p>
<p>Status: {% ifequal wg.status.status 'Active' %}Active{%else%}
<font color="red">{{ wg.status }}
{% ifequal wg.status.status 'Concluded' %}on {{wg.concluded_date}}{%endifequal%}
{% ifequal wg.status.status 'Dormant' %}on {{wg.dormant_date}}{%endifequal%}
</font>
{% endifequal %}</p>

<h2>Chair{{ wg.chairs.count|pluralize:",s" }}:</h2>
<ul>
{% for chair in wg.chairs %}
  <li><a href="mailto:{{ chair.person.email.1 }}">{{ chair.person|escape }} &lt;{{ chair.person.email.1 }}&gt;</a></li>
{% endfor %}
</ul>

<h2>Area Directors:</h2>
<ul>
{% for ad in wg.area_directors %}
  <li><a href="mailto:{{ ad.person.email.1 }}">{{ ad.person }} &lt;{{ ad.person.email.1 }}&gt;</a></li>
{% endfor %}
</ul>

{% ifequal wg.area_director.person.email.1 "noreply@ietf.org" %}{%else%}
<h2>Area Advisor:</h2>
<ul>
  <li><a href="mailto:{{ wg.area_director.person.email.1 }}">{{ wg.area_director.person }} &lt;{{wg.area_director.person.email.1 }}&gt;</a></li>
</ul>
{% endifequal %}

{% if wg.wgtechadvisor_set.count %}
<h2>Tech Advisor{{ wg.wgtechadvisor_set.count|pluralize:",s" }}:</h2>
<ul>
{% for techadvisor in wg.wgtechadvisor_set.all %}
  <li><a href="mailto:{{ techadvisor.person.email.1 }}">{{ techadvisor.person }} &lt;{{ techadvisor.person.email.1 }}&gt;</a></li>
{% endfor %}
</ul>
{% endif %}

{% if wg.wgeditor_set.count %}
<h2>Editor{{ wg.wgeditor_set.count|pluralize:",s" }}:</h2>
<ul>
{% for editor in wg.wgeditor_set.all %}
  <li><a href="mailto:{{ editor.person.email.1 }}">{{ editor.person }} &lt;{{ editor.person.email.1 }}&gt;</a></li>
{% endfor %}
</ul>
{% endif %}

{% if wg.secretaries %}
<h2>Secretar{{ wg.secretaries.count|pluralize:"y,ies" }}:</h2>
<ul>
{% for secretary in wg.secretaries %}
  <li><a href="mailto:{{ secretary.person.email.1 }}">{{ secretary.person }} &lt;{{ secretary.person.email.1 }}&gt;</a></li>
{% endfor %}
</ul>
{% endif %}

<h2>Mailing List:</h2>
<table>
<tr><td>General Discussion:</td><td> <a href="mailto:{{ wg.email_address }}">{{ wg.email_address }}</a></td></tr>
<tr><td>To Subscribe:</td><td<a href="{{ wg.email_subscribe }}">{{ wg.email_subscribe }}</a></td></tr>
<tr><td>Archive:</td><td><a href="{{ wg.email_archive }}">{{ wg.email_archive }}</a></td></tr> 
</table>

<h2>Description of Working Group:</h2>
<blockquote><p>{{ wg.charter_text|escape|format_charter|safe }}</p></blockquote>

<h2>Goals and Milestones:</h2>
<table>
{% for milestone in wg.milestones %}
  <tr>
   <td width="80px">
      {% if milestone.done %} Done
      {% else %}
      {%ifequal milestone.expected_due_date.month 1 %}Jan{% endifequal %}
      {%ifequal milestone.expected_due_date.month 2 %}Feb{% endifequal %}
      {%ifequal milestone.expected_due_date.month 3 %}Mar{% endifequal %}
      {%ifequal milestone.expected_due_date.month 4 %}Apr{% endifequal %}
      {%ifequal milestone.expected_due_date.month 5 %}May{% endifequal %}
      {%ifequal milestone.expected_due_date.month 6 %}Jun{% endifequal %}
      {%ifequal milestone.expected_due_date.month 7 %}Jul{% endifequal %}
      {%ifequal milestone.expected_due_date.month 8 %}Aug{% endifequal %}
      {%ifequal milestone.expected_due_date.month 9 %}Sep{% endifequal %}
      {%ifequal milestone.expected_due_date.month 10 %}Oct{% endifequal %}
      {%ifequal milestone.expected_due_date.month 11 %}Nov{% endifequal %}
      {%ifequal milestone.expected_due_date.month 12 %}Dec{% endifequal %}
      {{ milestone.expected_due_date.year }}
      {% endif %}
    </td>
    <td>{{ milestone.description|escape }}
  </td></tr>
{% endfor %}
<table>

<h2>Internet-Drafts:</h2>
<ul>
{% for draft in wg.drafts %}
  <li><a href="{{draft.doclink}}">{{draft.title|escape}}</a> ({{ draft.txt_page_count }} pages)</li>
{% endfor %}
</ul>

{% if wg.rfcs %}
<h2>Requests for Comments:</h2>
<table>
{% for rfc in wg.rfcs %}
  <tr><td>{{rfc}}{% if rfc.fyi_number %}<br> / FYI{{rfc.fyi_number}}{%endif%}{% if rfc.std_number %}<br> / STD{{rfc.std_number}}{%endif%}:
  </td><td><a href="{{rfc.doclink}}">{{rfc.title|escape}}</a> ({{rfc.txt_page_count}} pages)
  {% for obs in rfc.obsoletes%}
    - <font color="orange">{{obs.action}} RFC{{obs.rfc_acted_on_id}}</font>
  {% endfor %}

  {% for obs in rfc.obsoleted_by%}
    - {%ifequal obs.action 'Obsoletes'%}<font color="red">Obsoleted by{%else%}<font color="orange">Updated by{%endifequal%} RFC{{obs.rfc_id}}
  {% endfor %}

</td></tr>
{% endfor %}
</table>
{% else %}
<h2>No Requests for Comments</h2>
{% endif %}

{% ifequal wg.status.status 'Concluded' %} </div> {%endifequal%}
{% ifequal wg.status.status 'Dormant' %} </div> {%endifequal%}
{% endblock %}
