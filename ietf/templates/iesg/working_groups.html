{% extends "base.html" %}
{# Copyright The IETF Trust 2025, All Rights Reserved #}
{% load origin static %}
{% block pagehead %}
    <link rel="stylesheet" href="{% static 'ietf/css/list.css' %}">
{% endblock %}
{% block title %}IESG view of working groups{% endblock %}
{% block content %}
    {% origin %}
    <h1 class="mt-4">IESG view of working groups</h1>
    <h2 class="mt-3'">By Area</h2>
    <table class="table table-sm table-striped tablesorter">
        <thead>
            <tr>
                <th scope="col" data-sort="areaname">Area Name</th>
                <th scope="col" data-sort="wgcount">WGs</th>
                <th scope="col" data-sort="nodocs">WGs without docs</th>
                <th scope="col" data-sort="withdocs">WGs with docs</th>
                <th scope="col" data-sort="idcount">I-Ds</th>
                <th scope="col" data-sort="idpages">Pages</th>
                {# (divider) #}
                <th scope="col" data-sort="wgpercent">% WGs with docs</th>
                <th scope="col" data-sort="idpercent">% I-Ds</th>
                <th scope="col" data-sort="pagespercent">% Pages</th>
            </tr>
        </thead>
        <tbody>
            {% for area in area_summary %}
              <tr>
                <td>{{area.area}}</td>
                <td>{{area.groups_in_area}}</td>
                <td>{{area.groups_without_docs}}</td>
                <td>{{area.groups_with_docs}}</td>
                <td>{{area.doc_count}}</td>
                <td>{{area.page_count}}</td>
                <td>{{area.group_percent|floatformat:1}}</td>
                <td>{{area.doc_percent|floatformat:1}}</td>
                <td>{{area.page_percent|floatformat:1}}</td>
              </tr>
            {% endfor %}
        </tbody>
        <tfoot>
            <tr>
                <td>Totals</td>
                <td>{{totals.group_count}}</td>
                <td>{{totals.groups_without_docs_count}}</td>
                <td>{{totals.groups_with_docs_count}}</td>
                <td>{{totals.doc_count}}</td>
                <td>{{totals.page_count}}</td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
        </tfoot>
    </table>

    <h2 class="mt-3'">Documents with no assigned AD by area director of the document's group</h2>
    <table class="table table-sm table-striped tablesorter">
        <thead>
            <tr>
                <th scope="col" data-sort="areadirname">AD</th>
                <th scope="col" data-sort="areaname">Area Name</th>
                <th scope="col" data-sort="areagroups">WGs for AD</th>
                <th scope="col" data-sort="wgcount">WGs with docs</th>
                <th scope="col" data-sort="idcount">I-Ds</th>
                <th scope="col" data-sort="idpages">Pages</th>
                {# (divider) #}
                <th scope="col" data-sort="wgpercent">% WGs with docs</th>
                <th scope="col" data-sort="idpercent">% I-Ds</th>
                <th scope="col" data-sort="pagespercent">% Pages</th>
            </tr>
        </thead>
        <tbody>
            {% for ad in noad_summary %}
                <tr>
                    <td>{{ad.ad}}</td>
                    <td>{{ad.area}}</td>
                    <td>{{ad.ad_group_count}}</td>
                    <td>{{ad.doc_group_count}}</td>
                    <td>{{ad.doc_count}}</td>
                    <td>{{ad.page_count}}</td>
                    <td>{{ad.group_percent|floatformat:1}}</td>
                    <td>{{ad.doc_percent|floatformat:1}}</td>
                    <td>{{ad.page_percent|floatformat:1}}</td>
                </tr>
            {% endfor %}
        </tbody>
        <tfoot>
            <tr>
                <td>Totals</td>
                <td></td>
                <td>{{noad_totals.ad_group_count}}</td>
                <td>{{noad_totals.doc_group_count}}</td>
                <td>{{noad_totals.doc_count}}</td>
                <td>{{noad_totals.page_count}}</td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
        </tfoot>
    </table>    

    <h2 class="mt-3'">Documents with an assigned AD</h2>
    <table class="table table-sm table-striped tablesorter">
        <thead>
            <tr>
                <th scope="col" data-sort="areadirname">AD</th>
                <th scope="col" data-sort="areaname">Area Name</th>
                <th scope="col" data-sort="areagroups">WGs for AD</th>
                <th scope="col" data-sort="wgcount">WGs with docs</th>
                <th scope="col" data-sort="idcount">I-Ds</th>
                <th scope="col" data-sort="idpages">Pages</th>
                {# (divider) #}
                <th scope="col" data-sort="wgpercent">% WGs with docs</th>
                <th scope="col" data-sort="idpercent">% I-Ds</th>
                <th scope="col" data-sort="pagespercent">% Pages</th>
            </tr>
        </thead>
        <tbody>
            {% for ad in ad_summary %}
                <tr>
                    <td>{{ad.ad}}</td>
                    <td>{{ad.area}}</td>
                    <td>{{ad.ad_group_count}}</td>
                    <td>{{ad.doc_group_count}}</td>
                    <td>{{ad.doc_count}}</td>
                    <td>{{ad.page_count}}</td>
                    <td>{{ad.group_percent|floatformat:1}}</td>
                    <td>{{ad.doc_percent|floatformat:1}}</td>
                    <td>{{ad.page_percent|floatformat:1}}</td>
                </tr>
            {% endfor %}
        </tbody>
        <tfoot>
            <tr>
                <td>Totals</td>
                <td></td>
                <td>{{ad_totals.ad_group_count}}</td>
                <td>{{ad_totals.doc_group_count}}</td>
                <td>{{ad_totals.doc_count}}</td>
                <td>{{ad_totals.page_count}}</td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
        </tfoot>
    </table>  

    <h2 class="mt-3'">By Working Group</h2>
    <table class="table table-sm table-striped tablesorter">
        <thead>
            <tr>
                <th scope="col" data-sort="wg">WG</th>
                <th scope="col" data-sort="area">Area</th>
                <th scope="col" data-sort="ad">AD</th>
                <th scope="col" data-sort="ids">I-Ds</th>
                <th scope="col" data-sort="pages">Pages</th>
                <th scope="col" data-sort="rfcs">RFCs</th>
                <th scope="col" data-sort="rfcpubrate">RFCs in last 2 years</th>
                <th scope="col" data-sort="related">Related I-Ds</th>
                <th scope="col" data-sort="milestones">Open Milestones</th>
                <th scope="col" data-sort="pastmilestones">Open Milestones in Past</th>
                <th scope="col" data-sort="lastmeeting">Last Meeting</th>
                <th scope="col" data-sort=""></th>
            </tr>
        </thead>
        <tbody>
            {% for wg in wg_summary %}
            <tr>
                <td>{{wg.wg}}</td>
                <td>{{wg.area}}</td>
                <td>{{wg.ad}}</td>
                <td>{{wg.doc_count}}</td>
                <td>{{wg.page_count}}</td>
                <td>{{wg.rfc_count}}</td>
                <td>{{wg.recent_rfc_count}}</td>
                <td>{{wg.related_doc_count}}</td>
                <td>{{wg.open_milestone_count}}</td>
                <td>{{wg.open_past_milestone_count}}</td>
                <td>{{wg.last_meeting_date}}</td>  
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
{% block js %}
    <script src="{% static "ietf/js/list.js" %}"></script>
{% endblock %}