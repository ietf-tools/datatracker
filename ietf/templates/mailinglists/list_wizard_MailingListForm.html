{# Copyright The IETF Trust 2007, All Rights Reserved #}
{% extends "mailinglists/list_wizard_base.html" %}

{# javascript to go with the list administrators multi-form #}
{% if form.admins %}
{% block head %}
<script language="javascript">

function checkthis () {
  if (document.form_post["{{ step }}-admins_0"].checked == true) {
    document.form_post["{{ step }}-admins_1"].value=document.form_post["{{ step }}-requestor_email"].value;
  } else {
    document.form_post["{{ step }}-admins_1"].value = "";
  }
}

</script>
{% endblock %}
{% endif %}

{% block mlform %}
{% for field in form %}
{% if field.is_hidden %}
{# we assume that the only hidden form is the domain name #}
{# so don't render anything #}
{% else %}
<tr>
<th>{{ field.label_tag }}:
{% ifequal field.name "short_desc" %}
<img src="/images/icon_help.gif" border="0" title="Click for help" onClick="window.open('help/{{ field.name }}',null,'height=200,width=500,status=no,toolbar=no,menubar=no,location=no')">
{% endifequal %}
{% ifequal field.name "long_desc" %}
<img src="/images/icon_help.gif" border="0" title="Click for help" onClick="window.open('help/{{ field.name }}',null,'height=300,width=600,status=no,toolbar=no,menubar=no,location=no')">
{% endifequal %}
</th>
<td>
{% if field.errors %}
<ul class="errorlist">{% for error in field.errors %}<li>{{ error|escape }}</li>{% endfor %}</ul>
{% endif %}
{% ifequal field.name "mlist_name" %}
{% if mlist_known %}{# if we know the mailing list name already #}
{{ form.initial.mlist_name }}@{{ form.initial.domain_name }}{{ field.as_hidden }}
{% else %}
{{ field }}@{{ form.initial.domain_name }}
{% endif %}
{{ form.domain_name.as_hidden }}
{% else %}
{{ field }}
{% endifequal %}
</td>
</tr>
{% endif %}
{% endfor %}
{% endblock %}
